from flask import Flask, request
import json

app = Flask(__name__)


@app.route('/get_schedule')
def get_full_schedule():
    # user_info –±—É–¥–µ—Ç —Ç–∞–∫–∏–º:
    # user_info = {'chat_id': chat_id, 'inst': '–ò–ò–¢–∏–ê–î', 'course': '2 –∫—É—Ä—Å',
    #                  'group': '–ò–ë–±-18-1'}
    # –ï—Å–ª–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫–æ–µ-—Ç–æ –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ, —Ç–æ –≤ —Å–ª–æ–≤–∞—Ä–µ –±—É–¥–µ—Ç –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ None

    user_info = request.args.get('user_info')
    print(user_info)
    if not user_info:
        return '400 Bad Request', 400
    user_info = json.loads(user_info)

    schedule = '–ß–∏–ª–∏–º üòòüò¥üòé'
    # –í –∫–∞–∫–æ–º –≤–∏–¥–µ –±—É–¥–µ—Ç schedule (—Å–ª–æ–≤–∞—Ä—å, —Å–ø–∏—Å–æ–∫ –∏–ª–∏ —Å—Ç—Ä–æ–∫–∞) —Ä–µ—à–∏–º
    # –ú–æ–∂–Ω–æ –∫–∞–∫-—Ç–æ —Ç–∞–∫:
    # {'–ø–Ω':
    #   [
    #       {'date':'16 –º–∞—Ä—Ç–∞', 'time':'8:15', 'name':'–§–∏–∑–∏–∫–∞', 'teacher': '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á', 'aud':'–ñ-113'},
    #       {'date':'16 –º–∞—Ä—Ç–∞', 'time':'10:00', 'name':'–ú–∞—Ç–∞–Ω', 'teacher': '–ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á','aud':'–ö-201'}
    #   ],
    #   '–≤—Ç': [{}], '—Å—Ä': [{}], '—á—Ç': [{}], '–ø—Ç': [None], '—Å–±': [{}], '–≤—Å': [None]}
    # –ò –µ—â—ë –∫–∞–∫-—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —á—ë—Ç–Ω–∞—è –∏–ª–∏ –Ω–µ —á—ë—Ç–Ω–∞—è –Ω–µ–¥–µ–ª—è (–º–± —Å —Å–∞–π—Ç–∞ —Å—Ä–∞–∑—É —Ç—è–Ω—É—Ç—å –Ω—É–∂–Ω—É—é) -
    # –≤ html –∫–æ–¥–µ —É–∫–∞–∑–∞–Ω–æ –≤ –∫–∞–∫—É—é –Ω–µ–¥–µ–ª—é –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–∞—Ä–∞
    return schedule


if __name__ == '__main__':
    app.run()
